<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TinyMVC Documentation</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <header>
        <a href="https://tinymvc.github.io" class="logo">
            <span>TinyMVC</span> <sup class="version">v1.x</sup>
        </a>
        <a href="https://github.com/tinymvc/tinymvc" class="github-link">
            <svg height="20" viewBox="0 0 16 16" width="20" style="margin-right: 5px;">
                <path fill="currentColor" fill-rule="evenodd"
                    d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
                </path>
            </svg>
            GitHub
        </a>
    </header>

    <div class="main-container">
        <nav class="sidebar">
            <a href="/">Introduction</a>

            <h2>Getting Started</h2>
            <ul>
                <li><a href="/installation">Installation</a></li>
                <li><a href="/configuration">Configuration</a></li>
                <li><a href="/quick-start">Quick Start</a></li>
            </ul>

            <h2>The Basics</h2>
            <ul>
                <li><a href="/routing">Routing</a></li>
                <li><a href="/controllers">Controllers</a></li>
                <li><a href="/request">Request</a></li>
                <li><a href="/response">Response</a></li>
                <li><a href="/blade">Blade</a></li>
            </ul>

            <h2>Database</h2>
            <ul>
                <li><a href="/database">DB</a></li>
                <li><a href="/query-builder">Query Builder</a></li>
                <li><a href="/migrations">Migrations</a></li>
                <li><a href="/models">Models</a></li>
            </ul>

            <h2>Security</h2>
            <ul>
                <li><a href="/middleware">Middleware</a></li>
                <li><a href="/cors-and-csrf-protection">CORS & CSRF Protection</a></li>
                <li><a href="/authentication">Authentication</a></li>
                <li><a href="/authorization">Authorization</a></li>
            </ul>

            <h2>Features</h2>
            <ul>
                <li><a href="/container">Container</a></li>
                <li><a href="/encryption">Encryption</a></li>
                <li><a href="/queues">Queues</a></li>
                <li><a href="/events">Events</a></li>
                <li><a href="/asset-bundling">Asset Bundling (Vite)</a></li>
                <li><a href="/localization">Localization</a></li>
                <li><a href="/session">Session</a></li>
                <li><a href="/pipeline">Pipeline</a></li>
                <li><a href="/spark-cli">Spark CLI</a></li>

            </ul>

            <h2>Utilities</h2>
            <ul>
                <li><a href="/helpers-and-utilities#http-utility">Http (cURL)</a></li>
                <li><a href="/helpers-and-utilities#uploader-utility">Uploader</a></li>
                <li><a href="/helpers-and-utilities#paginator-utility">Paginator</a></li>
                <li><a href="/helpers-and-utilities#mail-utility">Mail</a></li>
                <li><a href="/helpers-and-utilities#cache-utility">Cache</a></li>
                <li><a href="/helpers-and-utilities#image-utility">Image</a></li>
                <li><a href="/helpers-and-utilities#filemanager-utility">File Manager</a></li>
                <li><a href="/helpers-and-utilities#time-utility">Carbon Time</a></li>
            </ul>

            <a href="/contribution">❤️ Contribution</a>
        </nav>
        <div class="content">
            <section id="helpers-utils">
                <h1>Helpers & Utilities</h1>
                <h2>Helper Functions</h2>

                <p>The framework provides numerous helper functions to simplify common tasks. These functions are
                    globally available throughout your application.</p>

                <h3>Application Helpers</h3>

                <table class="table">
                    <thead>
                        <tr>
                            <th>Function</th>
                            <th>Description</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>app()</code></td>
                            <td>Get application instance or resolve service</td>
                            <td><code>app()->getPath()</code></td>
                        </tr>
                        <tr>
                            <td><code>get()</code></td>
                            <td>Resolve class from container</td>
                            <td><code>get(Logger::class)</code></td>
                        </tr>
                        <tr>
                            <td><code>bind()</code></td>
                            <td>Register binding in container</td>
                            <td><code>bind(Interface::class, Implementation::class)</code></td>
                        </tr>
                        <tr>
                            <td><code>singleton()</code></td>
                            <td>Register singleton in container</td>
                            <td><code>singleton(Logger::class)</code></td>
                        </tr>
                        <tr>
                            <td><code>config()</code></td>
                            <td>Get/set configuration values</td>
                            <td><code>config('app.name')</code></td>
                        </tr>
                        <tr>
                            <td><code>abort()</code></td>
                            <td>Abort request with error</td>
                            <td><code>abort(404)</code></td>
                        </tr>
                        <tr>
                            <td><code>dump()</code></td>
                            <td>Dump variable with syntax highlighting</td>
                            <td><code>dump($variable)</code></td>
                        </tr>
                    </tbody>
                </table>

                <h3>HTTP Helpers</h3>

                <table class="table">
                    <thead>
                        <tr>
                            <th>Function</th>
                            <th>Description</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>request()</code></td>
                            <td>Get request instance or input</td>
                            <td><code>request('username')</code></td>
                        </tr>
                        <tr>
                            <td><code>response()</code></td>
                            <td>Create or get response instance</td>
                            <td><code>response()->json($data)</code></td>
                        </tr>
                        <tr>
                            <td><code>redirect()</code></td>
                            <td>Redirect to URL</td>
                            <td><code>redirect('/dashboard')</code></td>
                        </tr>
                        <tr>
                            <td><code>session()</code></td>
                            <td>Get/set session data</td>
                            <td><code>session('user_id', 123)</code></td>
                        </tr>
                        <tr>
                            <td><code>cookie()</code></td>
                            <td>Get/set cookies</td>
                            <td><code>cookie('prefs', $prefs)</code></td>
                        </tr>
                        <tr>
                            <td><code>input()</code></td>
                            <td>Get sanitized input</td>
                            <td><code>input(['username', 'email'])</code></td>
                        </tr>
                        <tr>
                            <td><code>validator()</code></td>
                            <td>Validate input data</td>
                            <td><code>validator($rules, $data)</code></td>
                        </tr>
                        <tr>
                            <td><code>errors()</code></td>
                            <td>Get validation errors</td>
                            <td><code>errors()->any()</code></td>
                        </tr>
                        <tr>
                            <td><code>old()</code></td>
                            <td>Get old input value</td>
                            <td><code>old('email')</code></td>
                        </tr>
                    </tbody>
                </table>

                <h3>Routing & URLs</h3>

                <table class="table">
                    <thead>
                        <tr>
                            <th>Function</th>
                            <th>Description</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>router()</code></td>
                            <td>Get router instance</td>
                            <td><code>router()->get('/', fn() => ...)</code></td>
                        </tr>
                        <tr>
                            <td><code>url()</code></td>
                            <td>Generate absolute URL</td>
                            <td><code>url('path/to/resource')</code></td>
                        </tr>
                        <tr>
                            <td><code>asset_url()</code></td>
                            <td>Generate asset URL</td>
                            <td><code>asset_url('css/app.css')</code></td>
                        </tr>
                        <tr>
                            <td><code>media_url()</code></td>
                            <td>Generate media URL</td>
                            <td><code>media_url('uploads/image.jpg')</code></td>
                        </tr>
                        <tr>
                            <td><code>route_url()</code></td>
                            <td>Generate URL for named route</td>
                            <td><code>route_url('profile', ['id' => 1])</code></td>
                        </tr>
                    </tbody>
                </table>

                <h3>Database</h3>

                <table class="table">
                    <thead>
                        <tr>
                            <th>Function</th>
                            <th>Description</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>database()</code></td>
                            <td>Get database instance</td>
                            <td><code>database()->query(...)</code></td>
                        </tr>
                        <tr>
                            <td><code>db()</code></td>
                            <td>Alias for database()</td>
                            <td><code>db()->table('users')</code></td>
                        </tr>
                        <tr>
                            <td><code>query()</code></td>
                            <td>Start new query</td>
                            <td><code>query('users')->where(...)</code></td>
                        </tr>
                    </tbody>
                </table>

                <h3>Views & Assets</h3>

                <table class="table">
                    <thead>
                        <tr>
                            <th>Function</th>
                            <th>Description</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>view()</code></td>
                            <td>Render view template</td>
                            <td><code>view('welcome', $data)</code></td>
                        </tr>
                        <tr>
                            <td><code>__()</code></td>
                            <td>Translate text</td>
                            <td><code>__('Welcome, %s', $name)</code></td>
                        </tr>
                        <tr>
                            <td><code>__e()</code></td>
                            <td>Translate and escape text</td>
                            <td><code>__e('Welcome, %s', $name)</code></td>
                        </tr>
                        <tr>
                            <td><code>vite()</code></td>
                            <td>Include Vite assets</td>
                            <td><code>vite()->asset('app.js')</code></td>
                        </tr>
                    </tbody>
                </table>

                <h3>Authentication</h3>

                <table class="table">
                    <thead>
                        <tr>
                            <th>Function</th>
                            <th>Description</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>auth()</code></td>
                            <td>Get auth instance</td>
                            <td><code>auth()->login($user)</code></td>
                        </tr>
                        <tr>
                            <td><code>user()</code></td>
                            <td>Get current user or property</td>
                            <td><code>user('email')</code></td>
                        </tr>
                        <tr>
                            <td><code>is_guest()</code></td>
                            <td>Check if user is guest</td>
                            <td><code>if (is_guest())</code></td>
                        </tr>
                        <tr>
                            <td><code>hashing()</code></td>
                            <td>Get hash utility</td>
                            <td><code>hashing()->make($password)</code></td>
                        </tr>
                    </tbody>
                </table>

                <h3>File System</h3>

                <table class="table">
                    <thead>
                        <tr>
                            <th>Function</th>
                            <th>Description</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>root_dir()</code></td>
                            <td>Get application root path</td>
                            <td><code>root_dir('app/Models')</code></td>
                        </tr>
                        <tr>
                            <td><code>storage_dir()</code></td>
                            <td>Get storage path</td>
                            <td><code>storage_dir('logs')</code></td>
                        </tr>
                        <tr>
                            <td><code>lang_dir()</code></td>
                            <td>Get language files path</td>
                            <td><code>lang_dir('en')</code></td>
                        </tr>
                        <tr>
                            <td><code>upload_dir()</code></td>
                            <td>Get uploads path</td>
                            <td><code>upload_dir('images')</code></td>
                        </tr>
                    </tbody>
                </table>

                <div class="note">
                    <strong>Tip:</strong> Most helper functions return objects that support method chaining for fluent
                    interfaces.
                </div>

                <div id="http-utility" style="padding-top: 25px;">
                    <h2>Cache Utility</h2>

                    <p>The Cache utility provides a simple yet powerful caching mechanism for storing and retrieving
                        data with expiration support.</p>

                    <h4>Cache Interface Methods</h4>

                    <table class="table">
                        <thead>
                            <tr>
                                <th>Method</th>
                                <th>Description</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>has()</code></td>
                                <td>Checks if a cache key exists</td>
                                <td><code>cache()->has('user_data')</code></td>
                            </tr>
                            <tr>
                                <td><code>store()</code></td>
                                <td>Stores data in cache with optional expiration</td>
                                <td><code>cache()->store('user_data', $data, '+1 hour')</code></td>
                            </tr>
                            <tr>
                                <td><code>load()</code></td>
                                <td>Gets or generates data if not cached</td>
                                <td><code>cache()->load('user_data', fn() => fetchData(), '+30 minutes')</code></td>
                            </tr>
                            <tr>
                                <td><code>retrieve()</code></td>
                                <td>Gets cached data</td>
                                <td><code>cache()->retrieve(['user_data', 'settings'])</code></td>
                            </tr>
                            <tr>
                                <td><code>erase()</code></td>
                                <td>Removes cached items</td>
                                <td><code>cache()->erase('user_data')</code></td>
                            </tr>
                            <tr>
                                <td><code>flush()</code></td>
                                <td>Clears entire cache</td>
                                <td><code>cache()->flush()</code></td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>Helper Functions</h4>

                    <pre><code>// Get or create cache instance
$cache = cache('user_cache');

// Store data with expiration
cache()->store('key', $data, '+1 day');

// Retrieve data (with callback if not exists)
$data = cache()->load('key', function() {
    return expensiveOperation();
}, '+30 minutes');

// Remove cache instance
unload_cache('user_cache');</code></pre>

                    <h4>Expiration Formats</h4>
                    <p>Expiration times can be specified as:</p>
                    <ul>
                        <li>Relative time: <code>'+1 hour'</code>, <code>'+30 minutes'</code></li>
                        <li>Absolute time: <code>'2023-12-31 23:59:59'</code></li>
                        <li><code>null</code> for no expiration</li>
                    </ul>

                    <div class="note">
                        <strong>Note:</strong> Multiple named cache instances can be created and managed independently.
                    </div>
                </div>

                <div id="http-utility" style="padding-top: 25px;">
                    <h2>HTTP Utility</h2>

                    <p>The HTTP utility provides a simple interface for making HTTP requests using cURL.</p>

                    <h4>HTTP Interface Methods</h4>

                    <table class="table">
                        <thead>
                            <tr>
                                <th>Method</th>
                                <th>Description</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>option()</code></td>
                                <td>Sets cURL options</td>
                                <td><code>http()->option(CURLOPT_TIMEOUT, 30)</code></td>
                            </tr>
                            <tr>
                                <td><code>header()</code></td>
                                <td>Sets request headers</td>
                                <td><code>http()->header('Authorization', 'Bearer token')</code></td>
                            </tr>
                            <tr>
                                <td><code>send()</code></td>
                                <td>Makes HTTP request</td>
                                <td><code>http()->send('https://api.example.com', ['param' => 'value'])</code></td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>Helper Functions</h4>

                    <pre><code>// Simple GET request
    $response = http('https://api.example.com');
    
    // With parameters and headers
    $response = http()
        ->header('Accept', 'application/json')
        ->send('https://api.example.com/users', ['page' => 2]);
    
    // POST request example
    $response = http()
        ->option(CURLOPT_POST, true)
        ->option(CURLOPT_POSTFIELDS, json_encode(['name' => 'John']))
        ->header('Content-Type', 'application/json')
        ->send('https://api.example.com/users');</code></pre>

                    <h4>Response Format</h4>
                    <p>Requests return an array with these keys:</p>
                    <pre><code>[
        'body' => 'Response content',
        'status' => 200,
        'last_url' => 'Final URL after redirects',
        'length' => 'Content length'
    ]</code></pre>

                    <h4>Common cURL Options</h4>
                    <ul>
                        <li><code>CURLOPT_TIMEOUT</code> - Request timeout</li>
                        <li><code>CURLOPT_FOLLOWLOCATION</code> - Follow redirects</li>
                        <li><code>CURLOPT_RETURNTRANSFER</code> - Return response as string</li>
                        <li><code>CURLOPT_SSL_VERIFYPEER</code> - Verify SSL certificate</li>
                    </ul>

                    <div class="note">
                        <strong>Tip:</strong> The HTTP instance maintains configuration between requests until reset.
                    </div>
                </div>

                <div id="image-utility" style="padding-top: 25px;">

                    <h2>Image Utility</h2>

                    <p>The Image utility provides a simple interface for common image manipulation tasks including
                        compression, resizing, and rotation.</p>

                    <h4>Image Interface Methods</h4>

                    <table class="table">
                        <thead>
                            <tr>
                                <th>Method</th>
                                <th>Description</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>compress()</code></td>
                                <td>Compresses the image with specified quality</td>
                                <td><code>image('photo.jpg')->compress(80, 'compressed.jpg')</code></td>
                            </tr>
                            <tr>
                                <td><code>resize()</code></td>
                                <td>Resizes the image to exact dimensions</td>
                                <td><code>image('photo.jpg')->resize(800, 600)</code></td>
                            </tr>
                            <tr>
                                <td><code>bulkResize()</code></td>
                                <td>Creates multiple resized versions</td>
                                <td><code>image('photo.jpg')->bulkResize([300=>200, 800=>600])</code></td>
                            </tr>
                            <tr>
                                <td><code>rotate()</code></td>
                                <td>Rotates the image by specified degrees</td>
                                <td><code>image('photo.jpg')->rotate(90)</code></td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="note-warning">
                        <strong>Note:</strong> The Image Utility uses <b>GD library</b> to perform operations, so make
                        sure
                        it's
                        installed.
                    </div>

                    <h4>Helper Function</h4>

                    <pre><code>// Basic usage
$image = image('path/to/source.jpg');

// Chain operations
image('photo.jpg')
    ->resize(1200, 800)
    ->compress(85, 'optimized.jpg');</code></pre>

                    <h4>Compression Details</h4>
                    <ul>
                        <li>For JPEG: Quality range 0-100 (higher is better quality)</li>
                        <li>For PNG: Compression level 0-9 (higher is more compression)</li>
                        <li>If no destination is provided, modifies the original image</li>
                    </ul>

                    <h4>Resizing Options</h4>
                    <pre><code>// Single resize
image('photo.jpg')->resize(800, 600, 'resized.jpg');

// Multiple sizes (returns array of generated files)
$resized = image('photo.jpg')->bulkResize([
    300 => 200,  // thumbnail
    800 => 600,  // medium
    1200 => 900  // large
]);</code></pre>

                    <h4>Supported Image Formats</h4>
                    <p>The utility supports common image formats including:</p>
                    <ul>
                        <li>JPEG/JPG</li>
                        <li>PNG</li>
                    </ul>

                    <div class="note">
                        <strong>Performance Tip:</strong> For batch processing, use <code>bulkResize()</code> instead of
                        multiple <code>resize()</code> calls as it's more memory efficient.
                    </div>

                    <div class="note-warning">
                        <strong>Important:</strong> When not specifying a destination path, the original image will be
                        overwritten. Always make backups or use different destination paths for important images.
                    </div>

                </div>

                <div id="mail-utility" style="padding-top: 25px;">

                    <h2>Mail Utility</h2>

                    <p>The Mail utility provides a fluent interface for sending emails, supporting both plain text and
                        HTML
                        content, with options for templates, attachments, and multiple recipients.</p>

                    <h4>Core Methods</h4>

                    <table class="table">
                        <thead>
                            <tr>
                                <th>Method</th>
                                <th>Description</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>subject()</code></td>
                                <td>Sets email subject</td>
                                <td><code>mailer()->subject('Welcome!')</code></td>
                            </tr>
                            <tr>
                                <td><code>body()</code></td>
                                <td>Sets plain text or HTML content</td>
                                <td><code>mailer()->body('Hello world', false)</code></td>
                            </tr>
                            <tr>
                                <td><code>view()</code></td>
                                <td>Sets content using template</td>
                                <td><code>mailer()->view('welcome', ['name'=>'John'])</code></td>
                            </tr>
                            <tr>
                                <td><code>to()</code></td>
                                <td>Adds recipient</td>
                                <td><code>mailer()->to('user@example.com', 'John')</code></td>
                            </tr>
                            <tr>
                                <td><code>cc()</code></td>
                                <td>Adds CC recipient</td>
                                <td><code>mailer()->cc('admin@example.com')</code></td>
                            </tr>
                            <tr>
                                <td><code>bcc()</code></td>
                                <td>Adds BCC recipient</td>
                                <td><code>mailer()->bcc('archive@example.com')</code></td>
                            </tr>
                            <tr>
                                <td><code>mailer()</code></td>
                                <td>Sets sender address</td>
                                <td><code>mailer()->mailer('noreply@example.com')</code></td>
                            </tr>
                            <tr>
                                <td><code>reply()</code></td>
                                <td>Sets reply-to address</td>
                                <td><code>mailer()->reply('support@example.com')</code></td>
                            </tr>
                            <tr>
                                <td><code>send()</code></td>
                                <td>Sends the email</td>
                                <td><code>mailer()->send()</code></td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>Helper Function</h4>

                    <pre><code>// Simple text email
mailer(
    to: 'user@example.com',
    subject: 'Welcome',
    body: 'Thank you for registering',
    isHtml: false
)->send();

// Template-based HTML email
mailer(
    to: 'user@example.com',
    subject: 'Your Order',
    template: 'emails/order-confirmation',
    context: ['order' => $order],
    from: 'orders@example.com'
)->send();

// Fluent interface
mailer()
    ->to('user@example.com')
    ->subject('Reminder')
    ->view('emails/reminder', ['days' => 3])
    ->cc('manager@example.com')
    ->send();</code></pre>

                    <h4>Template Usage</h4>
                    <p>Template files should be placed in your views directory (typically
                        <code>resources/views/emails/</code>):
                    </p>
                    <pre><code>&lt;!-- resources/views/emails/welcome.php --&gt;
&lt;h1&gt;Welcome, &lt;?= $name ?&gt;!&lt;/h1&gt;
&lt;p&gt;Thank you for joining our service.&lt;/p&gt;</code></pre>

                    <h4>Configuration</h4>
                    <p>Mail settings are configured in your environment file (<code>env.php</code>):</p>
                    <pre><code>// SMTP Configuration
'mail' => [
    'mailer' => [
        'address' => '{MAILER_ADDRESS}',
        'name' => '{MAILER_NAME}'
    ],
    'reply' => [
        'address' => '{REPLY_ADDRESS}',
        'name' => '{REPLY_NAME}'
    ],
    'smtp' => [
        'enabled' => false,
        'host' => '{SMTP_HOST}',
        'port' => 2525,
        'username' => '{SMTP_USERNAME}',
        'password' => '{SMTP_PASSWORD}',
        'encryption' => 'tls|ssl',
    ],
],</code></pre>

                    <h4>Attachment Support</h4>
                    <p>You can attach files to the email using the <code>addAttachment()</code> method:</p>
                    <pre><code>mailer()
    ->to('user@example.com')
    ->subject('Your Document')
    ->body('Please find attached document')
    ->addAttachment('/path/to/document.pdf')
    ->send();</code></pre>

                    <div class="note">
                        <strong>Note:</strong> The mailer automatically uses the configured SMTP settings from your
                        environment file.
                    </div>

                    <div class="note-warning">
                        <strong>Important:</strong> For production use, always configure proper SMTP credentials and
                        test
                        your email delivery before going live.
                    </div>

                </div>

                <div id="paginator-utility" style="padding-top: 25px;">

                    <h2>Paginator Utility</h2>

                    <p>The Paginator utility provides a complete solution for splitting data into pages and generating
                        pagination links with customizable styling.</p>

                    <h4>Basic Usage</h4>

                    <pre><code>// Initialize paginator with total items and per-page limit
$paginator = paginator(total: 150, limit: 15, data: $arrayOfData);

// In controller (with database query)
$paginator = DB::table('users')->paginate(15);

// In view
&lt;?php foreach ($paginator->getData() as $user): ?&gt;
    &lt;!-- Display user --&gt;
&lt;?php endforeach ?&gt;

&lt;?= $paginator->getLinks() ?&gt;</code></pre>

                    <h4>Core Methods</h4>

                    <table class="table">
                        <thead>
                            <tr>
                                <th>Method</th>
                                <th>Description</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>getData()</code></td>
                                <td>Gets paginated data subset</td>
                                <td><code>$paginator->getData(true)</code></td>
                            </tr>
                            <tr>
                                <td><code>getLinks()</code></td>
                                <td>Generates pagination HTML</td>
                                <td><code>$paginator->getLinks(3)</code></td>
                            </tr>
                            <tr>
                                <td><code>getPage()</code></td>
                                <td>Gets current page number</td>
                                <td><code>$currentPage = $paginator->getPage()</code></td>
                            </tr>
                            <tr>
                                <td><code>getPages()</code></td>
                                <td>Gets total page count</td>
                                <td><code>$totalPages = $paginator->getPages()</code></td>
                            </tr>
                            <tr>
                                <td><code>getOffset()</code></td>
                                <td>Gets current offset</td>
                                <td><code>$offset = $paginator->getOffset()</code></td>
                            </tr>
                            <tr>
                                <td><code>hasData()</code></td>
                                <td>Checks if data exists</td>
                                <td><code>if ($paginator->hasData())</code></td>
                            </tr>
                            <tr>
                                <td><code>hasLinks()</code></td>
                                <td>Checks if pagination needed</td>
                                <td><code>if ($paginator->hasLinks())</code></td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>Customizing Pagination Links</h4>

                    <pre><code>// Custom CSS classes
$paginator->getLinks(2, [
    'ul' => 'pagination-list',
    'li' => 'pagination-item',
    'a' => 'pagination-link',
    'li.current' => 'is-active',
    'a.current' => 'current-link'
]);

// Custom previous/next text
$paginator->getLinks(2, [], [
    'prev' => '&laquo;',
    'next' => '&raquo;'
]);</code></pre>

                    <h4>Database Integration</h4>

                    <p>When working with databases, use the offset and limit for queries:</p>

                    <pre><code>// In controller
$paginator = paginator(
    total: DB::table('products')->count(),
    limit: 20
);

$products = DB::table('products')
    ->offset($paginator->getOffset())
    ->limit($paginator->getLimit())
    ->get();

$paginator->setData($products);

// or simply use (RECOMMENDED)
$paginator = DB::table('products')->paginate(20);
</code></pre>

                    <h4>Lazy Loading vs Eager Loading</h4>

                    <pre><code>// Eager loading (pre-sliced data)
$paginator->setData($fullArray)->getData(false);

// Lazy loading (auto-slices data)
$paginator->setData($fullArray)->getData(true);</code></pre>

                    <h4>URL Customization</h4>

                    <p>Change the page parameter keyword:</p>

                    <pre><code>// Initialize with custom parameter
$paginator = paginator(200, 10, 'pg');

// Will generate URLs like: /items?pg=2</code></pre>

                    <div class="note">
                        <strong>Performance Tip:</strong> For large datasets, always use database-level pagination
                        (LIMIT/OFFSET) rather than loading all records into memory.
                    </div>

                    <div class="note">
                        <strong>Styling:</strong> The default HTML output uses Bootstrap-compatible classes. Override
                        with
                        your own CSS classes as shown above.
                    </div>
                </div>

                <div id="uploader-utility" style="padding-top: 25px;">

                    <h2>File Uploader Utility</h2>

                    <p>The Uploader utility provides a robust solution for handling file uploads with support for
                        validation, automatic resizing, compression, and secure file naming.</p>

                    <h4>Basic Usage</h4>

                    <pre><code>// Simple file upload
$uploader = uploader(uploadTo: 'products', extensions: ['jpg', 'png']);
$filePath = $uploader->upload('file_input_name');

// Multiple file upload with size limit
$uploader = uploader(
    uploadTo: documents/25-March',
    extensions: ['pdf', 'docx'],
    maxSize: 5 * 1024 * 1024 // 5MB
);
$filePaths = $uploader->upload('multiple_files_input');</code></pre>

                    <h4>Core Methods</h4>

                    <table class="table">
                        <thead>
                            <tr>
                                <th>Method</th>
                                <th>Description</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>setup()</code></td>
                                <td>Configures upload settings</td>
                                <td><code>$uploader->setup('uploads', ['jpg'], false, 2048000)</code></td>
                            </tr>
                            <tr>
                                <td><code>setUploadDir()</code></td>
                                <td>Sets upload directory</td>
                                <td><code>$uploader->setUploadDir('new_uploads')</code></td>
                            </tr>
                            <tr>
                                <td><code>upload()</code></td>
                                <td>Processes file upload</td>
                                <td><code>$uploader->upload($_FILES['avatar'])</code></td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>Image Processing Features</h4>

                    <pre><code>// Single resize + compression
$uploader = uploader(
    uploadDir: root_dir('uploads/products'),
    extensions: ['jpg', 'png'],
    resize: [800 => 600],  // width => height
    compress: 80           // quality percentage
);
$imagePath = $uploader->upload('product_image');

// Multiple resizes
$uploader = uploader(
    uploadDir: root_dir('uploads/gallery'),
    resizes: [
        [300 => 200],  // thumbnail
        [800 => 600],  // medium
        [1200 => 900]  // large
    ]
);
$imageVersions = $uploader->upload('gallery_photos');  // Returns array of paths</code></pre>

                    <h4>Security Features</h4>
                    <ul>
                        <li>Automatic secure filename generation</li>
                        <li>File extension validation</li>
                        <li>File size limits</li>
                        <li>Directory permission checks</li>
                        <li>Automatic directory creation</li>
                    </ul>

                    <h4>Helper Function</h4>

                    <pre><code>// Using the uploader() helper
$uploader = uploader(
    uploadTo: 'avatars',
    extensions: ['jpg', 'jpeg', 'png'],
    maxSize: 2 * 1024 * 1024, // 2MB
    compress: 75
);

// Handle form submission
if (request()->hasFile('avatar')) {
    try {
        $avatarPath = $uploader->upload('avatar');
        // Save path to database
    } catch (UploaderUtilException $e) {
        // Handle error
        $error = $e->getMessage();
    }
}</code></pre>

                    <h4>Configuration Options</h4>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Description</th>
                                <th>Default</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>uploadDir</code></td>
                                <td>Target directory for uploads</td>
                                <td><code>config('upload_dir')</code></td>
                            </tr>
                            <tr>
                                <td><code>uploadTo</code></td>
                                <td>Sub directory for uploads</td>
                                <td><code>null</code></td>
                            </tr>
                            <tr>
                                <td><code>extensions</code></td>
                                <td>Allowed file extensions</td>
                                <td><code>[]</code> (all allowed)</td>
                            </tr>
                            <tr>
                                <td><code>multiple</code></td>
                                <td>Allow multiple files</td>
                                <td><code>null</code> (auto-detect)</td>
                            </tr>
                            <tr>
                                <td><code>maxSize</code></td>
                                <td>Maximum file size in bytes</td>
                                <td><code>2097152</code> (2MB)</td>
                            </tr>
                            <tr>
                                <td><code>resize</code></td>
                                <td>Single resize dimensions</td>
                                <td><code>null</code></td>
                            </tr>
                            <tr>
                                <td><code>resizes</code></td>
                                <td>Multiple resize dimensions</td>
                                <td><code>null</code></td>
                            </tr>
                            <tr>
                                <td><code>compress</code></td>
                                <td>Image quality (0-100)</td>
                                <td><code>null</code></td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>Error Handling</h4>

                    <pre><code>try {
    $file = uploader('protected')->upload('document');
} catch (UploaderUtilException $e) {
    // Handle specific error cases
    switch ($e->getCode()) {
        case 501:
            // Failed to create upload directory.
            break;
        case 502:
            // Upload directory is not writable.
            break;
        case 503:
            // File size exceeds the maximum limit.
            break;
        case 504:
            // Invalid file extension.
            break;
        default:
            // Failed to move uploaded file.
            break;
    }
}</code></pre>

                    <div class="note">
                        <strong>Security Note:</strong> Always validate uploads on the server side, even if client-side
                        validation exists.
                    </div>

                    <div class="tip">
                        <strong>Performance Tip:</strong> For bulk image processing, use <code>resizes</code> instead of
                        multiple separate uploads.
                    </div>
                </div>
                <h2>Support Classes</h2>

                <p>The framework includes powerful support classes inspired by <a
                        href="https://laravel.com/docs/collections" target="_blank">Laravel's support components</a> to
                    make working with arrays, strings, and collections more expressive and convenient.</p>

                <div class="note">
                    <strong>Credit:</strong> These support classes are heavily inspired by Laravel's excellent support
                    helpers. While adapted for this framework, many concepts come directly from Laravel's
                    implementation.
                </div>

                <h3>Collection Class</h3>
                <p>The <code>Collection</code> class provides a fluent, convenient wrapper for working with arrays
                    of data.</p>

                <h4>Basic Usage</h4>
                <pre><code>// Create collection
$collection = collect(['taylor', 'abigail', null])
    ->map(fn ($name) => strtoupper($name))
    ->reject(fn ($name) => empty($name));

// Chain methods
$collection->filter()->each()->map()->sort()</code></pre>

                <h4>Common Methods</h4>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Method</th>
                            <th>Description</th>
                            <th>Laravel Docs</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>all()</code></td>
                            <td>Get all items</td>
                            <td><a href="https://laravel.com/docs/collections#method-all" target="_blank">Link</a>
                            </td>
                        </tr>
                        <tr>
                            <td><code>map()</code></td>
                            <td>Transform each item</td>
                            <td><a href="https://laravel.com/docs/collections#method-map" target="_blank">Link</a>
                            </td>
                        </tr>
                        <tr>
                            <td><code>filter()</code></td>
                            <td>Filter items</td>
                            <td><a href="https://laravel.com/docs/collections#method-filter" target="_blank">Link</a>
                            </td>
                        </tr>
                        <tr>
                            <td><code>groupBy()</code></td>
                            <td>Group items by key</td>
                            <td><a href="https://laravel.com/docs/collections#method-groupby" target="_blank">Link</a>
                            </td>
                        </tr>
                        <tr>
                            <td><code>sortBy()</code></td>
                            <td>Sort items</td>
                            <td><a href="https://laravel.com/docs/collections#method-sortby" target="_blank">Link</a>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <p><a href="https://laravel.com/docs/12.x/collections" target="_blank">👉 Laravel Collection
                        Docs</a></p>

                <h4>Helper Function</h4>
                <pre><code>// Create collection from array
$collection = collect([1, 2, 3]);</code></pre>

                <h3>Array Support (Arr)</h3>
                <p>The <code>Arr</code> class provides helper methods for array manipulation.</p>

                <h4>Common Methods</h4>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Method</th>
                            <th>Description</th>
                            <th>Laravel Docs</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>Arr::get()</code></td>
                            <td>Get item from array using dot notation</td>
                            <td><a href="https://laravel.com/docs/helpers#method-array-get" target="_blank">Link</a>
                            </td>
                        </tr>
                        <tr>
                            <td><code>Arr::set()</code></td>
                            <td>Set array item using dot notation</td>
                            <td><a href="https://laravel.com/docs/helpers#method-array-set" target="_blank">Link</a>
                            </td>
                        </tr>
                        <tr>
                            <td><code>Arr::has()</code></td>
                            <td>Check if item exists in array</td>
                            <td><a href="https://laravel.com/docs/helpers#method-array-has" target="_blank">Link</a>
                            </td>
                        </tr>
                        <tr>
                            <td><code>Arr::pluck()</code></td>
                            <td>Pluck values from array</td>
                            <td><a href="https://laravel.com/docs/helpers#method-array-pluck" target="_blank">Link</a>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <p>
                    <a href="https://laravel.com/docs/12.x/helpers#arrays" target="_blank">
                        👉 Laravel Arr Helper Docs
                    </a>
                </p>

                <h4>Helper Functions</h4>
                <pre><code>// Dot notation access
$value = data_get($array, 'user.address.street');

// Set nested value
data_set($array, 'user.address.street', '123 Main');

// Remove nested value
data_forget($array, 'user.address.street');

// Fill missing value
data_fill($array, 'user.role', 'guest');</code></pre>

                <h3>String Support (Str & Stringable)</h3>
                <p>The <code>Str</code> and <code>Stringable</code> classes provide fluent string manipulation.</p>

                <h4>Common Methods</h4>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Method</th>
                            <th>Description</th>
                            <th>Laravel Docs</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>Str::after()</code></td>
                            <td>Get string after first occurrence</td>
                            <td><a href="https://laravel.com/docs/strings#method-str-after" target="_blank">Link</a>
                            </td>
                        </tr>
                        <tr>
                            <td><code>Str::before()</code></td>
                            <td>Get string before first occurrence</td>
                            <td><a href="https://laravel.com/docs/strings#method-str-before" target="_blank">Link</a>
                            </td>
                        </tr>
                        <tr>
                            <td><code>Str::contains()</code></td>
                            <td>Check if string contains value</td>
                            <td><a href="https://laravel.com/docs/strings#method-str-contains" target="_blank">Link</a>
                            </td>
                        </tr>
                        <tr>
                            <td><code>Str::finish()</code></td>
                            <td>Ensure string ends with value</td>
                            <td><a href="https://laravel.com/docs/strings#method-str-finish" target="_blank">Link</a>
                            </td>
                        </tr>
                        <tr>
                            <td><code>Str::limit()</code></td>
                            <td>Limit string length</td>
                            <td><a href="https://laravel.com/docs/strings#method-str-limit" target="_blank">Link</a>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <h4>Fluent Strings</h4>
                <pre><code>// Using Stringable
$string = str('Hello World')
    ->after('Hello')
    ->trim()
    ->append('!')
    ->upper();

// Using helper
$slug = str($title)->slug();</code></pre>


                <p>
                    <a href="https://laravel.com/docs/12.x/strings" target="_blank">
                        👉 Laravel Strings Docs
                    </a>
                </p>

                <h3>Other Support Classes</h3>

                <h4>Number</h4>
                <pre><code>use Spark\Support\Number;

Number::format(1000); // 1,000
Number::percentage(50); // 50%</code></pre>

                <p>
                    <a href="https://laravel.com/docs/12.x/helpers#numbers" target="_blank">
                        👉 Laravel Number Helper Docs
                    </a>
                </p>

                <h4>Pluralizer</h4>
                <pre><code>use Spark\Support\Pluralizer;

Pluralizer::plural('child'); // children
Pluralizer::singular('children'); // child</code></pre>

                <p>
                    <a href="https://laravel.com/docs/12.x/helpers#numbers" target="_blank">
                        👉 Laravel
                    </a>
                </p>

                <h4>HtmlString</h4>
                <pre><code>use Spark\Support\HtmlString;

new HtmlString('&lt;h1&gt;Safe HTML&lt;/h1&gt;');</code></pre>

                <h4>Js</h4>
                <pre><code>use Spark\Support\Js;

Js::from($array); // JSON encoded with escaped characters</code></pre>

                <section id="support-helpers">
                    <h3>Support Helper Functions</h3>

                    <table class="table">
                        <thead>
                            <tr>
                                <th>Function</th>
                                <th>Description</th>
                                <th>Laravel Docs</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>head()</code></td>
                                <td>Get first array element</td>
                                <td><a href="https://laravel.com/docs/helpers#method-head" target="_blank">Link</a></td>
                            </tr>
                            <tr>
                                <td><code>last()</code></td>
                                <td>Get last array element</td>
                                <td><a href="https://laravel.com/docs/helpers#method-last" target="_blank">Link</a></td>
                            </tr>
                            <tr>
                                <td><code>value()</code></td>
                                <td>Return value or call closure</td>
                                <td><a href="https://laravel.com/docs/helpers#method-value" target="_blank">Link</a>
                                </td>
                            </tr>
                            <tr>
                                <td><code>when()</code></td>
                                <td>Conditional execution</td>
                                <td><a href="https://laravel.com/docs/helpers#method-when" target="_blank">Link</a></td>
                            </tr>
                            <tr>
                                <td><code>blank()</code></td>
                                <td>Check if value is "blank"</td>
                                <td><a href="https://laravel.com/docs/helpers#method-blank" target="_blank">Link</a>
                                </td>
                            </tr>
                            <tr>
                                <td><code>filled()</code></td>
                                <td>Check if value is not "blank"</td>
                                <td><a href="https://laravel.com/docs/helpers#method-filled" target="_blank">Link</a>
                                </td>
                            </tr>
                            <tr>
                                <td><code>class_basename()</code></td>
                                <td>Get class name without namespace</td>
                                <td><a href="https://laravel.com/docs/helpers#method-class-basename"
                                        target="_blank">Link</a></td>
                            </tr>
                            <tr>
                                <td><code>tap()</code></td>
                                <td>Tap into fluent chain</td>
                                <td><a href="https://laravel.com/docs/helpers#method-tap" target="_blank">Link</a></td>
                            </tr>
                            <tr>
                                <td><code>transform()</code></td>
                                <td>Transform value if not blank</td>
                                <td><a href="https://laravel.com/docs/helpers#method-transform" target="_blank">Link</a>
                                </td>
                            </tr>
                            <tr>
                                <td><code>with()</code></td>
                                <td>Return value after callback</td>
                                <td><a href="https://laravel.com/docs/helpers#method-with" target="_blank">Link</a></td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <section id="macroable-trait">
                    <h3>Macroable Trait</h3>
                    <p>The <code>Macroable</code> trait allows you to add methods to classes at runtime.</p>

                    <pre><code>// Add macro to Collection
Collection::macro('uppercase', function () {
    return $this->map(fn ($item) => strtoupper($item));
});

// Use the macro
collect(['a', 'b'])->uppercase(); // ['A', 'B']</code></pre>
                </section>

            </section>
        </div>
    </div>

    <footer>
        <div class="footer-links">
            <a href="https://github.com/tinymvc/tinymvc">GitHub</a>
            <a href="https://github.com/tinymvc/tinymvc/issues">Issues</a>
            <a href="https://github.com/tinymvc/tinymvc/discussions">Discussions</a>
            <a href="https://github.com/tinymvc/tinymvc/blob/main/LICENSE">License</a>
        </div>
        <div class="copyright">
            &copy; 2023 TinyMVC Framework by <a href="https://github.com/shahinmoyshan">Shahin Moyshan</a>.
        </div>
    </footer>
</body>

</html>